<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ChÃºc má»«ng sinh nháº­t vá»£ yÃªu ðŸ’–</title>
  <style>
    body {
      margin: 0;
      background: #ffc0cb;
      font-family: 'Segoe UI', sans-serif;
      overflow: hidden;
    }

    .start-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      z-index: 100;
    }

    .envelope {
      position: relative;
      width: 140px;
      height: 100px;
      margin: 0 auto;
      cursor: pointer;
      transform-style: preserve-3d;
      perspective: 600px;
    }

    .envelope .flap {
      width: 140px;
      height: 50px;
      background: #e91e63;
      position: absolute;
      top: 0;
      transform-origin: top;
      transition: transform 0.6s ease;
      border-radius: 6px 6px 0 0;
      z-index: 2;
    }

    .envelope .body {
      width: 140px;
      height: 100px;
      background: white;
      text-align: center;
      font-size: 48px;
      line-height: 100px;
      border: 3px solid #e91e63;
      border-radius: 6px;
      position: relative;
      z-index: 1;
    }

    .click-text {
      font-size: 18px;
      margin-top: 12px;
      color: #b30047;
      font-weight: bold;
    }

    .message-box {
      position: absolute;
      top: 30px;
      width: 100%;
      text-align: center;
      z-index: 10;
      display: none;
    }

    .message-box h1 {
      font-size: 2.5vw;
      color: #e91e63;
      margin-bottom: 10px;
      text-shadow: 1px 1px 3px white;
    }

    .typewriter {
      font-size: 1.2vw;
      color: white;
      background: rgba(255, 105, 180, 0.5);
      padding: 1vw 2vw;
      border-radius: 12px;
      display: inline-block;
      margin-top: 10px;
    }

    .typewriter.no-bg {
      background: none;
      font-weight: bold;
      font-size: 1.4vw;
      color: #e91e63;
    }

    .center-img {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 13vw;
      height: 13vw;
      transform: translate(-50%, -50%);
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 0 20px #fff;
      z-index: 5;
      display: none;
    }

    .orbit-img {
      position: absolute;
      width: 8vw;
      height: 8vw;
      border-radius: 10px;
      object-fit: cover;
      opacity: 0;
      animation: fadeIn 1s forwards;
    }

    .second-message {
      position: fixed;
      bottom: 30px;
      width: 100%;
      text-align: center;
      z-index: 10;
      display: none;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    @media (max-width: 768px) {
      .message-box h1 {
        font-size: 6vw;
      }
      .typewriter, .typewriter.no-bg {
        font-size: 4vw;
        padding: 2vw;
      }
      .center-img {
        width: 40vw;
        height: 40vw;
      }
      .orbit-img {
        width: 25vw;
        height: 25vw;
      }
    }
  </style>
</head>
<body>
  <audio id="bgm" loop>
    <source src="music/birthday.mp3" type="audio/mpeg" />
  </audio>

  <audio id="type-sound" src="sounds/keypress.mp3" preload="auto"></audio>

  <div class="start-container" onclick="openEnvelope(this)">
    <div class="envelope">
      <div class="flap"></div>
      <div class="body">ðŸ’Œ</div>
    </div>
    <p class="click-text">Click Ä‘á»ƒ má»Ÿ thÆ° chÃºc má»«ng</p>
  </div>

  <div class="message-box">
    <h1>ðŸŽ‰ ChÃºc má»«ng sinh nháº­t vá»£ yÃªu cá»§a anh! ðŸŽ‚</h1>
    <div class="typewriter no-bg">
      <p id="typing-text"></p>
    </div>
  </div>

  <img src="images/happywife.jpg" class="center-img" alt="Vá»£ yÃªu" />

  <div class="second-message">
    <div class="typewriter">
      <p id="typing-text-2"></p>
    </div>
  </div>

  <script>
    const text = "HÃ´m nay lÃ  ngÃ y Ä‘áº·c biá»‡t, ngÃ y em Ä‘áº¿n vá»›i tháº¿ giá»›i nÃ y Ä‘á»ƒ rá»“i trá»Ÿ thÃ nh tháº¿ giá»›i cá»§a anh. Cáº£m Æ¡n em vÃ¬ Ä‘Ã£ luÃ´n bÃªn anh. YÃªu em ráº¥t nhiá»u! ðŸ’•";
    const text2 = "ChÃºc em má»™t tuá»•i má»›i ngáº­p trÃ n háº¡nh phÃºc, yÃªu thÆ°Æ¡ng vÃ  luÃ´n má»‰m cÆ°á»i tháº­t tÆ°Æ¡i má»—i ngÃ y! HÃ£y cÃ¹ng nhau cá»‘ gáº¯ng hoÃ n thiá»‡n báº£n thÃ¢n thÃ nh phiÃªn báº£n tá»‘t hÆ¡n má»—i ngÃ y Ä‘á»ƒ cÃ¹ng Ä‘áº¡t Ä‘Æ°á»£c nhá»¯ng má»¥c tiÃªu phÃ­a trÆ°á»›c nhÃ© vá»£ ðŸ’–";
    const target = document.getElementById("typing-text");
    const target2 = document.getElementById("typing-text-2");
    const typeSound = document.getElementById("type-sound");
    const bgm = document.getElementById("bgm");
    let index = 0;

    function openEnvelope(el) {
      const flap = el.querySelector(".flap");
      flap.style.transform = "rotateX(-120deg)";
      setTimeout(() => {
        el.style.display = "none";
        startTyping();
      }, 800);
    }

    function startTyping() {
      document.querySelector(".message-box").style.display = "block";
      typeSound.loop = true;
      typeSound.play().catch(() => {});

      const interval = setInterval(() => {
        if (index < text.length) {
          target.innerHTML += text.charAt(index);
          index++;
        } else {
          clearInterval(interval);
          typeSound.pause();
          typeSound.currentTime = 0;
          showImages();
          bgm.play().catch(() => {});
        }
      }, 50);
    }

    function showImages() {
      const centerImg = document.querySelector('.center-img');
      centerImg.style.display = 'block';

      const images = ['img1.jpg','img2.jpg','img3.jpg','img4.jpg','img5.jpg','img6.jpg','img7.jpg','img8.jpg'];
      const centerX = window.innerWidth / 2;
      const centerY = window.innerHeight / 2;
      const radius = Math.min(window.innerWidth, window.innerHeight) * 0.2; // giáº£m bÃ¡n kÃ­nh Ä‘á»ƒ áº£nh nhá» gáº§n hÆ¡n

      images.forEach((filename, i) => {
        const angle = (2 * Math.PI / images.length) * i;
        const x = centerX + radius * Math.cos(angle) - (window.innerWidth * 0.04);
        const y = centerY + radius * Math.sin(angle) - (window.innerWidth * 0.04);
        const img = document.createElement('img');
        img.src = 'images/' + filename;
        img.className = 'orbit-img';
        img.style.left = `${x}px`;
        img.style.top = `${y}px`;
        img.style.animationDelay = `${i * 1}s`;
        document.body.appendChild(img);
      });

      setTimeout(() => {
        document.querySelector('.second-message').style.display = 'block';
        typeSound.play().catch(() => {});
        let j = 0;
        const interval2 = setInterval(() => {
          if (j < text2.length) {
            target2.innerHTML += text2.charAt(j);
            j++;
          } else {
            clearInterval(interval2);
            typeSound.pause();
            typeSound.currentTime = 0;
          }
        }, 50);
      }, images.length * 300 + 500);
    }
  </script>
</body>
</html>
